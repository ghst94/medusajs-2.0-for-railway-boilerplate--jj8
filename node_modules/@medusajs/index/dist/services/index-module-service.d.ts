import { Constructor, IEventBusModuleService, IndexTypes, InternalModuleDeclaration, ModulesSdkTypes, RemoteQueryFunction } from "@medusajs/framework/types";
import { MikroOrmBaseRepository as BaseRepository, ContainerRegistrationKeys, Modules, ModulesSdkUtils } from "@medusajs/framework/utils";
import { IndexMetadataStatus } from "../utils/index-metadata-status";
type InjectedDependencies = {
    [Modules.EVENT_BUS]: IEventBusModuleService;
    storageProviderCtr: Constructor<IndexTypes.StorageProvider>;
    [ContainerRegistrationKeys.QUERY]: RemoteQueryFunction;
    storageProviderCtrOptions: unknown;
    baseRepository: BaseRepository;
    indexMetadataService: ModulesSdkTypes.IMedusaInternalService<any>;
};
declare const IndexModuleService_base: ModulesSdkUtils.MedusaServiceReturnType<ModulesSdkUtils.ModelConfigurationsToConfigTemplate<{
    readonly IndexMetadata: import("@medusajs/framework/utils").DmlEntity<import("@medusajs/framework/utils").DMLEntitySchemaBuilder<{
        id: import("@medusajs/framework/utils").PrimaryKeyModifier<string, import("@medusajs/framework/utils").IdProperty>;
        entity: import("@medusajs/framework/utils").TextProperty;
        fields: import("@medusajs/framework/utils").TextProperty;
        fields_hash: import("@medusajs/framework/utils").TextProperty;
        status: import("@medusajs/framework/utils").EnumProperty<typeof IndexMetadataStatus>;
    }>, "IndexMetadata">;
}>>;
export default class IndexModuleService extends IndexModuleService_base implements IndexTypes.IIndexService {
    protected readonly moduleDeclaration: InternalModuleDeclaration;
    private readonly container_;
    private readonly moduleOptions_;
    protected readonly eventBusModuleService_: IEventBusModuleService;
    protected schemaObjectRepresentation_: IndexTypes.SchemaObjectRepresentation;
    protected schemaEntitiesMap_: Record<string, any>;
    protected readonly storageProviderCtr_: Constructor<IndexTypes.StorageProvider>;
    protected readonly storageProviderCtrOptions_: unknown;
    protected storageProvider_: IndexTypes.StorageProvider;
    private indexMetadataService_;
    constructor(container: InjectedDependencies, moduleDeclaration: InternalModuleDeclaration);
    __hooks: {
        onApplicationStart(this: IndexModuleService): Promise<void>;
    };
    protected onApplicationStart_(): Promise<void>;
    private syncIndexConfig;
    private syncEntities;
    query<const TEntry extends string>(config: IndexTypes.IndexQueryConfig<TEntry>): Promise<IndexTypes.QueryResultSet<TEntry>>;
    protected registerListeners(): void;
    private buildSchemaObjectRepresentation_;
}
export {};
//# sourceMappingURL=index-module-service.d.ts.map